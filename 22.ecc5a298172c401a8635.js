webpackJsonp([22],{"7yOy":function(t,s){},JkCO:function(t,s){},NL3A:function(t,s){},WMJt:function(t,s,e){t.exports=e.p+"public/img/result_xunzhang.2153219.png"},fMbu:function(t,s,e){"use strict";s.a={props:{activityId:{type:String,default:""},result:{type:Object,default:function(){return{integral:0,owner:{},opponent:{},mode:{},status:""}}},showBack:{type:Boolean,default:!1}},methods:{resultBack:function(){this.$router.replace({path:"/client/detail/"+this.activityId})},toHMS:function(t){var s;return s=t%60>9?parseInt(t%60):"0"+parseInt(t%60),(parseInt(t/60)>60?parseInt(parseInt(t/60)%60):parseInt(t/60)>9?parseInt(t/60):"0"+parseInt(t/60))+":"+s}}}},h6ti:function(t,s){},p2A9:function(t,s){},xZrf:function(t,s,e){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var a=e("ydpE"),r=e("fMbu"),i={name:"ResultNormal",mixins:[r.a]},l=e("W5g0");var _=function(t){e("7yOy")},n=Object(l.a)(i,function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",[e("div",{staticClass:"result_wrap"},[e("ul",[e("li",{staticClass:"result_wrap_one"},[e("div",{staticClass:"result_wrap_box "},[e("div",{staticClass:"result_wrap_content"},[e("div",{staticClass:"result_wrap_title fontsize14"},[t._v("答对题目数")]),t._v(" "),e("div",{staticClass:"result_wrap_info fontsize42"},[t._v(t._s(t.result.owner.correct_amount))]),t._v(" "),e("div",{staticClass:"result_wrap_title fontsize14"},[t._v("答题时长")]),t._v(" "),e("div",{staticClass:"result_wrap_info2 fontsize32"},[t._v(t._s(t.toHMS(t.result.owner.consume_time)))]),t._v(" "),e("div",{staticClass:"result_wrap_add fontsize14"},[t._v("+"+t._s(t.result.integral)+"积分")])])])])])]),t._v(" "),t.showBack?e("div",{staticClass:"result_back"},[e("div",{staticClass:"result_back_btn fontsize20",on:{click:t.resultBack}},[t._v("返回")])]):t._e()])},[],!1,_,"data-v-1cc37f7e",null).exports,u={name:"ResultTen",mixins:[r.a],created:function(){}};var o=function(t){e("NL3A")},c=Object(l.a)(u,function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",[e("div",{staticClass:"result_wrap"},[e("ul",[e("li",{staticClass:"result_wrap_double"},[e("div",{staticClass:"result_wrap_box",class:{result_win:2==t.result.status,result_lose:3==t.result.status,result_equal:5==t.result.status}},[e("div",{staticClass:"result_wrap_content"},[e("div",{staticClass:"result_wrap_info fontsize28"},[t._v(t._s(t.result.owner.name))]),t._v(" "),e("div",{staticClass:"result_wrap_title result_wrap_title2 fontsize14"},[t._v("答对十题用时")]),t._v(" "),e("div",{staticClass:"result_wrap_info2 fontsize32"},[t._v(t._s(t.toHMS(t.result.owner.consume_time)))]),t._v(" "),e("div",{staticClass:"result_wrap_add fontsize14"},[t._v("+"+t._s(t.result.integral)+"积分")]),t._v(" "),3==t.result.status?e("div",{staticClass:"result_wrap_unanswer fontsize16"},[t._v("未答完")]):t._e()])])]),t._v(" "),e("li",{staticClass:"result_wrap_double"},[e("div",{staticClass:"result_wrap_box",class:{result_win:3==t.result.status,result_lose:2==t.result.status,result_equal:5==t.result.status}},[e("div",{staticClass:"result_wrap_content"},[e("div",{staticClass:"result_wrap_info fontsize28"},[t._v(t._s(t.result.opponent.name))]),t._v(" "),e("div",{staticClass:"result_wrap_title result_wrap_title2 fontsize14"},[t._v("答对十题用时")]),t._v(" "),e("div",{staticClass:"result_wrap_info2 fontsize32"},[t._v(t._s(t.toHMS(t.result.opponent.consume_time)))]),t._v(" "),2==t.result.status?e("div",{staticClass:"result_wrap_unanswer fontsize16"},[t._v("未答完")]):t._e()])])])])]),t._v(" "),t.showBack?e("div",{staticClass:"result_back"},[e("div",{staticClass:"result_back_btn fontsize20",on:{click:t.resultBack}},[t._v("返回")])]):t._e()])},[],!1,o,"data-v-2156d2c6",null).exports,v={name:"ResultTime",mixins:[r.a]};var p=function(t){e("JkCO")},d=Object(l.a)(v,function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",[e("div",{staticClass:"result_wrap"},[e("ul",[e("li",{staticClass:"result_wrap_double"},[e("div",{staticClass:"result_wrap_box",class:{result_win:2==t.result.status,result_lose:3==t.result.status,result_equal:5==t.result.status}},[e("div",{staticClass:"result_wrap_content"},[e("div",{staticClass:"result_wrap_info fontsize28"},[t._v(t._s(t.result.owner.name))]),t._v(" "),e("div",{staticClass:"result_wrap_title result_wrap_title2 fontsize14"},[t._v("答对题目数")]),t._v(" "),e("div",{staticClass:"result_wrap_info2 fontsize32"},[t._v(t._s(t.result.owner.correct_amount))]),t._v(" "),e("div",{staticClass:"result_wrap_add fontsize14"},[t._v("+"+t._s(t.result.integral)+"积分")])])])]),t._v(" "),e("li",{staticClass:"result_wrap_double"},[e("div",{staticClass:"result_wrap_box",class:{result_win:3==t.result.status,result_lose:2==t.result.status,result_equal:5==t.result.status}},[e("div",{staticClass:"result_wrap_content"},[e("div",{staticClass:"result_wrap_info fontsize28"},[t._v(t._s(t.result.opponent.name))]),t._v(" "),e("div",{staticClass:"result_wrap_title result_wrap_title2 fontsize14"},[t._v("答对题目数")]),t._v(" "),e("div",{staticClass:"result_wrap_info2 fontsize32"},[t._v(t._s(t.result.opponent.correct_amount))])])])])])]),t._v(" "),t.showBack?e("div",{staticClass:"result_back"},[e("div",{staticClass:"result_back_btn fontsize20",on:{click:t.resultBack}},[t._v("返回")])]):t._e()])},[],!1,p,"data-v-f0b4e606",null).exports,w={name:"ResultRace",mixins:[r.a]};var f=function(t){e("h6ti")},C=Object(l.a)(w,function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",[e("div",{staticClass:"result_wrap"},[e("ul",[t.result.opponent&&null!==t.result.opponent.consume_time?t._e():e("li",{staticClass:"result_wrap_wait"},[e("div",{staticClass:"result_wrap_box"},[e("div",{staticClass:"result_wrap_content"},[e("div",{staticClass:"result_wrap_wait_title fontsize14"},[t._v("我方团队")]),t._v(" "),e("div",{staticClass:"result_wrap_wait_info fontsize28"},[t._v(t._s(t.result.owner.name))]),t._v(" "),e("div",{staticClass:"result_wrap_wait_title fontsize14"},[t._v("答对题目数")]),t._v(" "),e("div",{staticClass:"result_wrap_wait_info fontsize42"},[t._v(t._s(t.result.owner.correct_amount))])]),t._v(" "),e("div",{staticClass:"result_wrap_content"},[e("div",{staticClass:"result_wrap_wait_title result_wrap_wait_title2 fontsize14"},[t._v("对方团队")]),t._v(" "),e("div",{staticClass:"result_wrap_wait_info result_wrap_wait_info2 fontsize28"},[t._v(t._s(t.result.opponent&&t.result.opponent.name||"未参与"))]),t._v(" "),e("div",{staticClass:"result_wrap_wait_title result_wrap_wait_title2 fontsize14"},[t._v("答对题目数")]),t._v(" "),e("div",{staticClass:"result_wrap_wait_info result_wrap_wait_info2 fontsize30"},[t._v("未参与")])])])]),t._v(" "),t.result.opponent&&t.result.opponent.consume_time?e("li",{staticClass:"result_wrap_double"},[e("div",{staticClass:"result_wrap_box",class:{result_win:2==t.result.status,result_lose:3==t.result.status,result_equal:5==t.result.status}},[e("div",{staticClass:"result_wrap_content"},[e("div",{staticClass:"result_wrap_title fontsize14"},[t._v("我方团队")]),t._v(" "),e("div",{staticClass:"result_wrap_info fontsize28"},[t._v(t._s(t.result.owner.name))]),t._v(" "),e("div",{staticClass:"result_wrap_title result_wrap_title2 fontsize14"},[t._v("答对题目数")]),t._v(" "),e("div",{staticClass:"result_wrap_info2 fontsize32"},[t._v(t._s(t.result.owner.correct_amount))])])])]):t._e(),t._v(" "),t.result.opponent&&t.result.opponent.consume_time?e("li",{staticClass:"result_wrap_double"},[e("div",{staticClass:"result_wrap_box",class:{result_win:3==t.result.status,result_lose:2==t.result.status,result_equal:5==t.result.status}},[e("div",{staticClass:"result_wrap_content"},[e("div",{staticClass:"result_wrap_title fontsize14"},[t._v("对方团队")]),t._v(" "),e("div",{staticClass:"result_wrap_info fontsize28"},[t._v(t._s(t.result.opponent.name))]),t._v(" "),e("div",{staticClass:"result_wrap_title result_wrap_title2 fontsize14"},[t._v("答对题目数")]),t._v(" "),e("div",{staticClass:"result_wrap_info2 fontsize32"},[t._v(t._s(t.result.opponent.correct_amount))])])])]):t._e()])]),t._v(" "),t.showBack?e("div",{staticClass:"result_back"},[e("div",{staticClass:"result_back_btn fontsize20",on:{click:t.resultBack}},[t._v("返回")])]):t._e()])},[],!1,f,"data-v-c3aceebc",null).exports,m={name:"ActivitResult",mixins:[a.a],components:{ResultNormal:n,ResultTime:d,ResultTen:c,ResultRace:C}};var b=function(t){e("p2A9")},h=Object(l.a)(m,function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"exam-container"},[a("div",{staticClass:"exam_wrap"},[a(t.currentComponent,{tag:"component",attrs:{activityId:t.activityId,result:t.raceResult,showBack:t.showBack}})],1),t._v(" "),t.showBadge?a("div",{staticClass:"result_badge_wrapper"},[a("div",{staticClass:"handel_wrapper"},[a("img",{attrs:{src:e("WMJt")}}),t._v(" "),a("div",{staticClass:"fontsize30"},[t._v("恭喜您")]),t._v(" "),a("div",{staticClass:"fontsize20"},[t._v("获得一枚勋章")]),t._v(" "),a("div",{staticClass:"fontsize20",on:{click:t.closeBadge}},[t._v("收下勋章")])])]):t._e()])},[],!1,b,"data-v-2be7124c",null);s.default=h.exports},ydpE:function(t,s,e){"use strict";var a=e("aA9S"),r=e.n(a),i=e("3cXf"),l=e.n(i),_=e("lC5x"),n=e.n(_),u=e("J0Oq"),o=e.n(u),c=e("rMyF");s.a={data:function(){return{raceResult:{integral:0,owner:{},opponent:{},mode:{},badge:!1},activityId:"",mode_id:"",currentComponent:"",componentArr:["","ResultNormal","ResultTime","ResultTen","ResultRace"],showBadge:!1,showBack:!1}},methods:{getRaceResult:function(){var t=this;return o()(n.a.mark(function s(){var e,a,r;return n.a.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,Object(c.q)(t.activityId,t.mode_id);case 2:e=s.sent,a=e.code,r=e.data,0===a?(t.raceResult=r,t.showResult()):t.$message.error(t.$CLIENT_EXAM_ERROR[a]);case 5:case"end":return s.stop()}},s,t)}))()},showResult:function(){var t=this;this.currentComponent=this.componentArr[this.raceResult.mode.mode],localStorage.setItem("examResult",l()(r()({},this.raceResult,{badge:!1}))),setTimeout(function(){t.showBadge=!!t.raceResult.badge},500),this.showBack=!this.showBadge},closeBadge:function(){var t=this;this.showBadge=!1,setTimeout(function(){t.showBack=!0},200)}},created:function(){var t=this;return o()(n.a.mark(function s(){var e;return n.a.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:if(t.activityId=t.$route.params.id,t.mode_id=t.$route.params.mid,!localStorage.getItem("token")||!t.mode_id){s.next=7;break}return s.next=5,t.getRaceResult();case 5:s.next=10;break;case 7:e=localStorage.getItem("examResult")&&JSON.parse(localStorage.getItem("examResult")),t.raceResult=e,e?t.showResult():t.$router.replace({path:"/client/detail/"+t.activityId});case 10:case"end":return s.stop()}},s,t)}))()}}}});